{"title":"Custom chart popups in CARTO Builder","markdown":{"yaml":{"title":"Custom chart popups in CARTO Builder","date":"2021-05-12","categories":["CARTO"],"draft":true},"containsRefs":false,"markdown":"\n\nhttps://gdsl.carto.com/u/matthewlaw/builder/4a6f861b-6674-4320-8163-fccb7f845b73/embed\n\nCARTO Builder is a web application which allows you to access the core of CARTO's visualisation and analytics functionality without having to get your hands dirty using one or more of their many developer libraries ([React](https://docs.carto.com/react/overview/), [deck.gl](https://docs.carto.com/deck-gl/overview/), [Mapbox GL](https://docs.carto.com/mapbox-gl/overview/), etc) and APIs ([SQL](https://carto.com/developers/sql-api/), [Maps](https://carto.com/developers/maps-api/), etc). While it makes it easy to quickly produce nice interactive, data-rich maps, the user is sometimes constrained by the default data visualisation options.\n\nPop-up tooltips appear when the user clicks on a location within England, displaying the name of the LSOA clicked, the IMD decile into which it falls, and a bar chart showing its score for each of the domains of deprivation. In this way, the user can query the data in which they are interested and see 'on-demand' details about a certain area (Kirk, 2019: 216). This visualisation intentionally obscures the specific values of each score, as their scale and values will be meaningless to almost all users; for example the health and disability domain score ranges from -3.215 to 3.547 while the living environment domain score ranges from 0.126 to 91.602. Instead, seven new columns were created scaling each of these domain scores from 0 to 300, based on their minimum and maximum values. These values were then used to specify the pixel widths of the bars in the bar chart, using inline CSS within custom HTML for the pop-up to achieve this, adapting code from Gully-Santiago (2014). In this way, the user can see how an LSOA ranks in each of the domains compared to others in England, but without each variable requiring a large amount of screen real estate and necessitating either scrolling or omitting some domains.\n","srcMarkdownNoYaml":"\n\nhttps://gdsl.carto.com/u/matthewlaw/builder/4a6f861b-6674-4320-8163-fccb7f845b73/embed\n\nCARTO Builder is a web application which allows you to access the core of CARTO's visualisation and analytics functionality without having to get your hands dirty using one or more of their many developer libraries ([React](https://docs.carto.com/react/overview/), [deck.gl](https://docs.carto.com/deck-gl/overview/), [Mapbox GL](https://docs.carto.com/mapbox-gl/overview/), etc) and APIs ([SQL](https://carto.com/developers/sql-api/), [Maps](https://carto.com/developers/maps-api/), etc). While it makes it easy to quickly produce nice interactive, data-rich maps, the user is sometimes constrained by the default data visualisation options.\n\nPop-up tooltips appear when the user clicks on a location within England, displaying the name of the LSOA clicked, the IMD decile into which it falls, and a bar chart showing its score for each of the domains of deprivation. In this way, the user can query the data in which they are interested and see 'on-demand' details about a certain area (Kirk, 2019: 216). This visualisation intentionally obscures the specific values of each score, as their scale and values will be meaningless to almost all users; for example the health and disability domain score ranges from -3.215 to 3.547 while the living environment domain score ranges from 0.126 to 91.602. Instead, seven new columns were created scaling each of these domain scores from 0 to 300, based on their minimum and maximum values. These values were then used to specify the pixel widths of the bars in the bar chart, using inline CSS within custom HTML for the pop-up to achieve this, adapting code from Gully-Santiago (2014). In this way, the user can see how an LSOA ranks in each of the domains compared to others in England, but without each variable requiring a large amount of screen real estate and necessitating either scrolling or omitting some domains.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.40","editor":"visual","theme":{"light":["flatly","../../styles.scss"],"dark":["darkly","../../styles-dark.scss"]},"mainfont":"IBM Plex Sans","code-copy":true,"title-block-banner":true,"title":"Custom chart popups in CARTO Builder","date":"2021-05-12","categories":["CARTO"],"draft":true},"extensions":{"book":{"multiFile":true}}}},"draft":true,"projectFormats":["html"]}