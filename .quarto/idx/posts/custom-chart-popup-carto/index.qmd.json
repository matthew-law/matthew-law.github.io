{"title":"Custom chart popups in CARTO Builder","markdown":{"yaml":{"title":"Custom chart popups in CARTO Builder","date":"2021-05-12","categories":["CARTO"],"draft":true},"containsRefs":false,"markdown":"\n\nhttps://gdsl.carto.com/u/matthewlaw/builder/4a6f861b-6674-4320-8163-fccb7f845b73/embed\n\nCARTO Builder is a web application which allows you to access the core of CARTO's visualisation and analytics functionality without having to get your hands dirty using one or more of their many developer libraries ([React](https://docs.carto.com/react/overview/), [deck.gl](https://docs.carto.com/deck-gl/overview/), [Mapbox GL](https://docs.carto.com/mapbox-gl/overview/), etc) and APIs ([SQL](https://carto.com/developers/sql-api/), [Maps](https://carto.com/developers/maps-api/), etc). While it makes it easy to quickly produce nice interactive, data-rich maps, the user is sometimes constrained by the default data visualisation options.\n\nPop-up tooltips appear when the user clicks on a location within England, displaying the name of the LSOA clicked, the IMD decile into which it falls, and a bar chart showing its score for each of the domains of deprivation. In this way, the user can query the data in which they are interested and see 'on-demand' details about a certain area (Kirk, 2019: 216). This visualisation intentionally obscures the specific values of each score, as their scale and values will be meaningless to almost all users; for example the health and disability domain score ranges from -3.215 to 3.547 while the living environment domain score ranges from 0.126 to 91.602. Instead, seven new columns were created scaling each of these domain scores from 0 to 300, based on their minimum and maximum values. These values were then used to specify the pixel widths of the bars in the bar chart, using inline CSS within custom HTML for the pop-up to achieve this, adapting code from Gully-Santiago (2014). In this way, the user can see how an LSOA ranks in each of the domains compared to others in England, but without each variable requiring a large amount of screen real estate and necessitating either scrolling or omitting some domains.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"index.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.269","editor":"visual","theme":{"light":["flatly","../../styles.scss"],"dark":["darkly","../../styles-dark.scss"]},"mainfont":"IBM Plex Sans","code-copy":true,"title-block-banner":true,"title":"Custom chart popups in CARTO Builder","date":"2021-05-12","categories":["CARTO"],"draft":true},"extensions":{"book":{"multiFile":true}}}}}