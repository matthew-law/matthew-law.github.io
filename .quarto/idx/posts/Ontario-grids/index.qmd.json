{"title":"Road Grids of Southern Ontario","markdown":{"yaml":{"title":"Road Grids of Southern Ontario","date":"2021-11-05","categories":["Python","30DayMapChallenge2021"]},"containsRefs":false,"markdown":"\n\n![](images/Road-Grids-Southern-Ontario.png)\n\nThis map started with armchair travelling in Google Maps. I'd noticed that roads in the southern part of the Canadian province of Ontario were arranged in grids, but that there were a number of misaligned grids throughout the region:\n\n![](images/Ontario-gmaps.jpeg)\n\nTo define the area I looked at the different administrative boundaries (`admin_level` 5 and 6 in OSM) and from these picked the ones I thought delineated the 'griddiest' area (very scientific, I know). Initially I tried getting the data into QGIS with the QuickOSM plugin but found that because the features were quite large the query often timed out, so I switched to using [overpass turbo](https://overpass-turbo.eu/). I only wanted the roads which actually formed the grids (I know nothing of Canadian geography or history but Wikipedia leads me to believe these may be [concession roads](https://en.wikipedia.org/wiki/Concession_road)): through trial and error I settled on including everything on OpenStreetMap tagged `highway=motorway`, `highway=trunk`, `highway=primary`, or `highway=secondary` within the area of interest.\n\nIt was fun trying to reverse-engineer a methodology to try to get the different grid areas from just the roads -- the basic Python methodology ended up being:\n\n-   use the roads and land outline to create enclosures (polygons bounded by roads/boundary of study area)\n-   calculate the orientation of eacch of these enclosures (technically, the orientation of the longest axis of their binding rectangles) using Martin Fleischmann's excellent [`momepy` package](http://docs.momepy.org/en/stable/index.html), rounding these values to the nearest 5°\n-   define as 'neighbours' of each enclosure: all enclosures that border a given enclosure (ie its direct neighbours), all enclosures that border the enclosures that border a given enclosure (ie its neighbours' neighbours), and all other enclosures within 15 km\n-   get the modal orientation value (the one calculated in step two) for each enclosure + its neighbours (as defined above)\n\nThe full Python code used to make the map is available in a Jupyter notebook [here](https://github.com/matthew-law/30DayMapChallenge2021/blob/main/grids/grids.ipynb), albeit you'll need to provide your own data to reproduce it. If you do get that far though, you can use the `.explore()` method in `geopandas` to interactively explore the data:\n\n![](images/GDF.explore().jpeg)\n\nAn interesting point of comparison is this figure from \"The Land Surveys Of Ontario 1750--1980\", an article by Louis M. Sebert in a 1980 edition of the journal Cartographica ([doi: 10.3138/X1G3-5822-25G2-027M](https://doi.org/10.3138/X1G3-5822-25G2-027M)) which gives a bit of insight into how the grids ended up this way:\n\n![](images/Township-Survey-Systems.png)\n","srcMarkdownNoYaml":"\n\n![](images/Road-Grids-Southern-Ontario.png)\n\nThis map started with armchair travelling in Google Maps. I'd noticed that roads in the southern part of the Canadian province of Ontario were arranged in grids, but that there were a number of misaligned grids throughout the region:\n\n![](images/Ontario-gmaps.jpeg)\n\nTo define the area I looked at the different administrative boundaries (`admin_level` 5 and 6 in OSM) and from these picked the ones I thought delineated the 'griddiest' area (very scientific, I know). Initially I tried getting the data into QGIS with the QuickOSM plugin but found that because the features were quite large the query often timed out, so I switched to using [overpass turbo](https://overpass-turbo.eu/). I only wanted the roads which actually formed the grids (I know nothing of Canadian geography or history but Wikipedia leads me to believe these may be [concession roads](https://en.wikipedia.org/wiki/Concession_road)): through trial and error I settled on including everything on OpenStreetMap tagged `highway=motorway`, `highway=trunk`, `highway=primary`, or `highway=secondary` within the area of interest.\n\nIt was fun trying to reverse-engineer a methodology to try to get the different grid areas from just the roads -- the basic Python methodology ended up being:\n\n-   use the roads and land outline to create enclosures (polygons bounded by roads/boundary of study area)\n-   calculate the orientation of eacch of these enclosures (technically, the orientation of the longest axis of their binding rectangles) using Martin Fleischmann's excellent [`momepy` package](http://docs.momepy.org/en/stable/index.html), rounding these values to the nearest 5°\n-   define as 'neighbours' of each enclosure: all enclosures that border a given enclosure (ie its direct neighbours), all enclosures that border the enclosures that border a given enclosure (ie its neighbours' neighbours), and all other enclosures within 15 km\n-   get the modal orientation value (the one calculated in step two) for each enclosure + its neighbours (as defined above)\n\nThe full Python code used to make the map is available in a Jupyter notebook [here](https://github.com/matthew-law/30DayMapChallenge2021/blob/main/grids/grids.ipynb), albeit you'll need to provide your own data to reproduce it. If you do get that far though, you can use the `.explore()` method in `geopandas` to interactively explore the data:\n\n![](images/GDF.explore().jpeg)\n\nAn interesting point of comparison is this figure from \"The Land Surveys Of Ontario 1750--1980\", an article by Louis M. Sebert in a 1980 edition of the journal Cartographica ([doi: 10.3138/X1G3-5822-25G2-027M](https://doi.org/10.3138/X1G3-5822-25G2-027M)) which gives a bit of insight into how the grids ended up this way:\n\n![](images/Township-Survey-Systems.png)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.40","editor":"visual","theme":{"light":["flatly","../../styles.scss"],"dark":["darkly","../../styles-dark.scss"]},"mainfont":"IBM Plex Sans","code-copy":true,"title-block-banner":true,"title":"Road Grids of Southern Ontario","date":"2021-11-05","categories":["Python","30DayMapChallenge2021"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}